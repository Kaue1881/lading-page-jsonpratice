<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- displays site properly based on user's device -->
  <link rel="stylesheet" href="./style.css">
  <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@500;700&display=swap" rel="stylesheet">
  <title>Frontend Mentor | Job Listings</title>
</head>
<body>
<main>
    <ul class="lista-user" id="lista-user">
      <!-- <li>
        <div class="box-user">
          <img class="logo-user" src="./images/photosnap.svg" alt="" width="70">
          <div class="info-user">
            <div class="info-duplex">
              <h5 class="cargo">cargo</h5>
              <mark class="mark">New</mark> <br>
            </div>
              <h4 class="name-user">name-user</h4> <br> <br>
              <fieldset class="box-legend">
                <small>legend | legend</small>
              </fieldset>
          </div>

          <div class="tecnology">
            <span class="tecnology-span">js</span>
            <span class="tecnology-span">html</span>
            <span class="tecnology-span">css</span>
          </div>
        </div>
      </li> -->
    </ul>
  </main>


  <script>

    async function fetchJobListings() {
            try {
                const response = await fetch('data.json');
                const data = await response.json();

                const jobListingsDiv = document.querySelector('#lista-user');
                data.forEach(job => {
                    const jobDiv = document.createElement('li');
                    jobDiv.innerHTML = `
        
        <div class="box-user">
          <img class="logo-user" src="${job.logo}" alt="" width="70">
          <div class="info-user">
            <div class="info-duplex">
              <h5 class="cargo">${job.company}</h5>
              <mark class="mark">New</mark> <br>
            </div>
              <h4 class="name-user">${job.position}</h4> <br> <br>
              <fieldset class="box-legend">
                <small>${job.postedAt} | ${job.contract} | ${job.location}</small>
              </fieldset>
          </div>

          <div class="tecnology">
            <span class="tecnology-span">${job.languages[0]}</span>
            <span class="tecnology-span">${job.languages[1]}</span>
            <span class="tecnology-span">${job.languages[2]}</span>
            <span class="tecnology-span" id="tool">${job.tools[0]}</span>
            <span class="tecnology-span" id="tool">${job.tools[1]}</span>
          </div>
        </div>`;
                    jobListingsDiv.appendChild(jobDiv);
                });
            } catch (error) {
                console.error('Erro ao buscar os dados:', error);
            } 
            
            const tool = document.querySelector("tool");
            if(job.undefined == undefined){

              tool.style.display = "none";
            } else {

              tool.style.display = "block"
            }
        }

         window.onload = fetchJobListings;

    // fetch('data.json')
    // .then(response => response.json())
    // .then(data => {
    //   // 'data' Ã© agora um array de objetos
    //   const ul = document.querySelector("#lista-user")
    //     console.log(data);
    //   data.forEach((user) =>{
    //     const li = document.createElement("li")
    //     li.innerHTML = `
        
    //     <div class="box-user">
    //       <img class="logo-user" src="${data.logo}" alt="" width="70">
    //       <div class="info-user">
    //         <div class="info-duplex">
    //           <h5 class="cargo">cargo</h5>
    //           <mark class="mark">New</mark> <br>
    //         </div>
    //           <h4 class="name-user">name-user</h4> <br> <br>
    //           <fieldset class="box-legend">
    //             <small>legend | legend</small>
    //           </fieldset>
    //       </div>

    //       <div class="tecnology">
    //         <span class="tecnology-span">js</span>
    //         <span class="tecnology-span">html</span>
    //         <span class="tecnology-span">css</span>
    //       </div>
    //     </div>`;
    //     ul.appendChild(li);

    //   })


      
    // })
    // .catch(error => {
    //   console.error('Erro ao carregar o JSON:', error);
    // });

  </script>
</body>
</html>